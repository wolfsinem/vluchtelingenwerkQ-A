<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stel uw Vraag - Vluchtelingenwerk</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Visualization & Content Choices: 
        - HTML formulier met Tailwind CSS, nu geconfigureerd voor Formspree.
        - Client-side bevestiging na (gesimuleerde) succesvolle Formspree-inzending.
        - Pictogrammen en taalwissel functionaliteit behouden.
    -->
    <style>
        body {
            font-family: 'Inter', sans-serif; 
        }
        .form-icon {
            width: 1.25rem; 
            height: 1.25rem; 
            margin-right: 0.5rem; 
            color: #0369a1; 
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        input:focus, textarea:focus, select:focus {
            outline: 2px solid transparent;
            outline-offset: 2px;
            border-color: #0284c7; 
            box-shadow: 0 0 0 2px #38bdf8; 
        }
        .language-button {
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
        }
        .language-button.selected {
            background-color: #0284c7; 
            color: white;
            border-color: #0284c7; 
        }
        .confirmation-section {
            display: none; /* Hidden by default */
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border-left-color: #0284c7; /* sky-600 */
            animation: spin 1s ease infinite;
            display: none; /* Hidden by default */
            margin-right: 0.5rem;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 flex flex-col items-center justify-center min-h-screen p-4">

    <div class="bg-white shadow-xl rounded-lg p-6 md:p-10 w-full max-w-2xl">
        
        <div id="form-section">
            <header class="text-center mb-8">
                <img src="https://placehold.co/100x100/0284c7/FFFFFF?text=Logo" alt="Logo Vluchtelingenwerk" class="mx-auto mb-4 h-16 w-auto" onerror="this.onerror=null; this.src='https://placehold.co/80x80/E0E0E0/B0B0B0?text=Logo';">
                <h1 id="main-title" class="text-3xl font-bold text-sky-700">Stel uw Vraag</h1>
                <p id="subtitle" class="text-slate-600 mt-2">Wij staan klaar om u te helpen. Vul het formulier hieronder in.</p>
            </header>

            <div class="mb-8 p-4 bg-sky-50 rounded-md border border-sky-200">
                <label id="lang-select-label" class="block text-sm font-medium text-slate-700 mb-2 flex items-center">
                    <span class="form-icon">ğŸŒ</span> Kies uw taal / Select your language / Ø§Ø®ØªØ± Ù„ØºØªÙƒ
                </label>
                <div class="flex flex-wrap gap-2">
                    <button type="button" data-lang="nl" class="language-button selected text-sm px-3 py-1.5 border border-slate-300 rounded-md hover:bg-sky-100">Nederlands</button>
                    <button type="button" data-lang="en" class="language-button text-sm px-3 py-1.5 border border-slate-300 rounded-md hover:bg-sky-100">English</button>
                    <button type="button" data-lang="ar" class="language-button text-sm px-3 py-1.5 border border-slate-300 rounded-md hover:bg-sky-100">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
                    <button type="button" data-lang="ti" class="language-button text-sm px-3 py-1.5 border border-slate-300 rounded-md hover:bg-sky-100">á‰µáŒáˆ­áŠ›</button>
                </div>
                <p id="lang-select-hint" class="text-xs text-slate-500 mt-2">Selecteer de taal waarin u het formulier wilt invullen en antwoord wilt ontvangen.</p>
            </div>

            <form id="questionForm" action="https://formspree.io/f/xkgrlbkl" method="POST" class="space-y-6">
                <div>
                    <label for="name" id="label-name" class="block text-sm font-medium text-slate-700 mb-1 flex items-center">
                        <span class="form-icon">ğŸ‘¤</span> Uw naam (optioneel)
                    </label>
                    <input type="text" name="name" id="name" autocomplete="name"
                           class="mt-1 block w-full px-4 py-2.5 border border-slate-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm"
                           placeholder="Vul hier uw naam in">
                </div>

                <div>
                    <label for="email" id="label-email" class="block text-sm font-medium text-slate-700 mb-1 flex items-center">
                        <span class="form-icon">âœ‰ï¸</span> Uw e-mailadres (voor antwoord)
                    </label>
                    <input type="email" name="email" id="email" autocomplete="email" required
                           class="mt-1 block w-full px-4 py-2.5 border border-slate-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm"
                           placeholder="voorbeeld@email.com">
                </div>

                <div>
                    <label for="phone" id="label-phone" class="block text-sm font-medium text-slate-700 mb-1 flex items-center">
                         <span class="form-icon">ğŸ“</span> Telefoonnummer (optioneel)
                    </label>
                    <input type="tel" name="phone" id="phone" autocomplete="tel"
                           class="mt-1 block w-full px-4 py-2.5 border border-slate-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm"
                           placeholder="+31 6 12345678">
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="question_language" id="label-question-lang" class="block text-sm font-medium text-slate-700 mb-1 flex items-center">
                            <span class="form-icon">ğŸ—£ï¸</span> Taal van uw vraag
                        </label>
                        <select id="question_language" name="question_language" required
                                class="mt-1 block w-full px-4 py-2.5 border border-slate-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm">
                            <option value="nl">Nederlands</option>
                            <option value="en">English</option>
                            <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                            <option value="ti">á‰µáŒáˆ­áŠ›</option>
                            <option value="fr">FranÃ§ais</option>
                            <option value="fa">ÙØ§Ø±Ø³ÛŒ/Ø¯Ø±ÛŒ</option>
                            <option value="so">Soomaali</option>
                            <option value="uk">Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°</option>
                            <option value="other">Anders</option>
                        </select>
                    </div>

                    <div>
                        <label for="answer_language" id="label-answer-lang" class="block text-sm font-medium text-slate-700 mb-1 flex items-center">
                            <span class="form-icon">ğŸ’¬</span> Gewenste taal voor antwoord
                        </label>
                        <select id="answer_language" name="answer_language" required
                                class="mt-1 block w-full px-4 py-2.5 border border-slate-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm">
                            <option value="nl">Nederlands</option>
                            <option value="en">English</option>
                            <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                            <option value="ti">á‰µáŒáˆ­áŠ›</option>
                            <option value="fr">FranÃ§ais</option>
                            <option value="fa">ÙØ§Ø±Ø³ÛŒ/Ø¯Ø±ÛŒ</option>
                            <option value="so">Soomaali</option>
                            <option value="uk">Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°</option>
                            <option value="same">Zelfde als vraag</option>
                        </select>
                    </div>
                </div>

                <div>
                    <label for="question" id="label-question" class="block text-sm font-medium text-slate-700 mb-1 flex items-center">
                        <span class="form-icon">â“</span> Uw vraag
                    </label>
                    <textarea id="question" name="question" rows="6" required
                              class="mt-1 block w-full px-4 py-2.5 border border-slate-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm"
                              placeholder="Typ hier uw vraag zo duidelijk mogelijk..."></textarea>
                </div>
                 <input type="hidden" name="_language" id="form_page_language" value="nl">


                <div class="pt-2">
                    <p id="privacy-info" class="text-xs text-slate-500 mb-4">
                        Door dit formulier in te dienen, gaat u akkoord met ons <a href="#" id="privacy-link-text" class="text-sky-600 hover:underline" onclick="showPrivacyPolicy(event)">privacybeleid</a>. Uw gegevens worden alleen gebruikt om uw vraag te beantwoorden.
                    </p>
                    <button type="submit" id="submit-button"
                            class="w-full flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-colors disabled:opacity-50">
                        <div class="spinner" id="submit-spinner"></div>
                        <span id="submit-button-text">Verstuur mijn Vraag</span>
                        <span id="submit-button-arrow" class="ml-2">â”</span> 
                    </button>
                </div>
            </form>
        </div>

        <div id="confirmation-section" class="confirmation-section text-center">
            <div class="text-emerald-500 mb-6">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </div>
            <h2 id="confirmation-title" class="text-2xl font-bold text-slate-800 mb-3">Bedankt voor uw vraag!</h2>
            <p id="confirmation-message" class="text-slate-600 mb-2">Uw vraag is succesvol verzonden.</p>
            <p id="confirmation-detail" class="text-slate-600 mb-6">We nemen zo spoedig mogelijk contact met u op via het opgegeven e-mailadres. Controleer ook uw spamfolder.</p>
            
            <div class="mt-8 p-4 bg-slate-100 rounded-md">
                <h3 id="what-next-title" class="text-lg font-semibold text-slate-700 mb-2">Wat nu?</h3>
                <p id="what-next-faq" class="text-sm text-slate-600 mb-2">Bekijk onze <a href="#" class="text-sky-600 hover:underline" onclick="alert('Link naar FAQ (simulatie)')">Veelgestelde Vragen (FAQ)</a> pagina voor mogelijke antwoorden.</p>
                <p id="what-next-info" class="text-sm text-slate-600">We streven ernaar binnen [X] werkdagen te antwoorden.</p>
            </div>

            <button type="button" id="new-question-button"
                    class="mt-8 w-full md:w-auto px-6 py-3 border border-sky-600 text-sky-600 rounded-md shadow-sm text-base font-medium hover:bg-sky-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-colors">
                Stel nog een vraag
            </button>
        </div>

    </div>

    <footer class="text-center mt-8 text-sm text-slate-500">
        <p id="footer-copy">&copy; <span id="currentYear"></span> Vluchtelingenwerk [Organisatienaam]. Alle rechten voorbehouden.</p>
         <p id="footer-note" class="text-xs mt-1">Dit is een voorbeeldpagina. Formulierinzendingen worden niet verwerkt tenzij Formspree correct is geconfigureerd.</p>
    </footer>

    <div id="privacyModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center" style="display: none; z-index: 100;">
        <div class="relative mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white">
            <div class="mt-3 text-center">
                <h3 id="modal-title" class="text-lg leading-6 font-medium text-gray-900">Privacybeleid (Voorbeeld)</h3>
                <div id="modal-content" class="mt-2 px-7 py-3 text-sm text-gray-500 text-left">
                    <p class="mb-2">Wij, Vluchtelingenwerk [Organisatienaam], hechten veel waarde aan de bescherming van uw persoonsgegevens. In dit privacybeleid willen we heldere en transparante informatie geven over hoe wij omgaan met persoonsgegevens.</p>
                    <p class="mb-2"><strong>Welke gegevens verzamelen we?</strong> We verzamelen de gegevens die u invult in het contactformulier: uw naam (indien opgegeven), e-mailadres, telefoonnummer (indien opgegeven), de taal van uw vraag, de gewenste taal voor het antwoord, en de inhoud van uw vraag.</p>
                    <p class="mb-2"><strong>Waarvoor gebruiken we uw gegevens?</strong> Uw gegevens worden uitsluitend gebruikt om contact met u op te nemen en uw vraag te beantwoorden. We delen uw gegevens niet met derden, tenzij dit nodig is om aan een wettelijke verplichting te voldoen.</p>
                    <p class="mb-2"><strong>Hoe lang bewaren we uw gegevens?</strong> We bewaren uw gegevens niet langer dan strikt nodig is om de doelen te realiseren waarvoor uw gegevens worden verzameld, of zo lang als de wet ons verplicht.</p>
                    <p>Voor meer informatie kunt u contact met ons opnemen.</p>
                </div>
                <div class="items-center px-4 py-3">
                    <button id="closePrivacyModal" class="px-4 py-2 bg-sky-600 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500">
                        Sluiten
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        const translations = {
            nl: {
                pageTitle: "Stel uw Vraag - Vluchtelingenwerk",
                mainTitle: "Stel uw Vraag",
                subtitle: "Wij staan klaar om u te helpen. Vul het formulier hieronder in.",
                langSelectLabel: "ğŸŒ Kies uw taal / Select your language / Ø§Ø®ØªØ± Ù„ØºØªÙƒ",
                langSelectHint: "Selecteer de taal waarin u het formulier wilt invullen en antwoord wilt ontvangen.",
                labelName: "ğŸ‘¤ Uw naam (optioneel)",
                placeholderName: "Vul hier uw naam in",
                labelEmail: "âœ‰ï¸ Uw e-mailadres (voor antwoord)",
                placeholderEmail: "voorbeeld@email.com",
                labelPhone: "ğŸ“ Telefoonnummer (optioneel)",
                placeholderPhone: "+31 6 12345678",
                labelQuestionLang: "ğŸ—£ï¸ Taal van uw vraag",
                labelAnswerLang: "ğŸ’¬ Gewenste taal voor antwoord",
                labelQuestion: "â“ Uw vraag",
                placeholderQuestion: "Typ hier uw vraag zo duidelijk mogelijk...",
                privacyInfo: "Door dit formulier in te dienen, gaat u akkoord met ons ",
                privacyLinkText: "privacybeleid",
                privacyInfoCont: ". Uw gegevens worden alleen gebruikt om uw vraag te beantwoorden.",
                submitButtonText: "Verstuur mijn Vraag",
                footerCopy: `&copy; ${new Date().getFullYear()} Vluchtelingenwerk [Organisatienaam]. Alle rechten voorbehouden.`,
                footerNote: "Dit is een voorbeeldpagina. Formulierinzendingen worden niet verwerkt tenzij Formspree correct is geconfigureerd.",
                modalTitle: "Privacybeleid (Voorbeeld)",
                modalCloseButton: "Sluiten",
                alertError: "Vul alstublieft uw e-mailadres en vraag in.",
                confirmationTitle: "Bedankt voor uw vraag!",
                confirmationMessage: "Uw vraag is succesvol verzonden.",
                confirmationDetail: "We nemen zo spoedig mogelijk contact met u op via het opgegeven e-mailadres. Controleer ook uw spamfolder.",
                whatNextTitle: "Wat nu?",
                whatNextFaq: "Bekijk onze Veelgestelde Vragen (FAQ) pagina voor mogelijke antwoorden.",
                whatNextInfo: "We streven ernaar binnen [X] werkdagen te antwoorden.",
                newQuestionButton: "Stel nog een vraag",
                submittingText: "Bezig met verzenden..."
            },
            en: {
                pageTitle: "Ask your Question - Refugee Support",
                mainTitle: "Ask your Question",
                subtitle: "We are ready to help you. Please fill in the form below.",
                langSelectLabel: "ğŸŒ Kies uw taal / Select your language / Ø§Ø®ØªØ± Ù„ØºØªÙƒ", 
                langSelectHint: "Select the language in which you want to fill out the form and receive a reply.",
                labelName: "ğŸ‘¤ Your name (optional)",
                placeholderName: "Enter your name here",
                labelEmail: "âœ‰ï¸ Your email address (for reply)",
                placeholderEmail: "example@email.com",
                labelPhone: "ğŸ“ Phone number (optional)",
                placeholderPhone: "+31 6 12345678",
                labelQuestionLang: "ğŸ—£ï¸ Language of your question",
                labelAnswerLang: "ğŸ’¬ Preferred language for reply",
                labelQuestion: "â“ Your question",
                placeholderQuestion: "Type your question here as clearly as possible...",
                privacyInfo: "By submitting this form, you agree to our ",
                privacyLinkText: "privacy policy",
                privacyInfoCont: ". Your data will only be used to answer your question.",
                submitButtonText: "Send my Question",
                footerCopy: `&copy; ${new Date().getFullYear()} Refugee Support [Organization Name]. All rights reserved.`,
                footerNote: "This is an example page. Form submissions are not processed unless Formspree is configured correctly.",
                modalTitle: "Privacy Policy (Example)",
                modalCloseButton: "Close",
                alertError: "Please fill in your email address and question.",
                confirmationTitle: "Thank you for your question!",
                confirmationMessage: "Your question has been sent successfully.",
                confirmationDetail: "We will contact you as soon as possible via the email address provided. Please also check your spam folder.",
                whatNextTitle: "What next?",
                whatNextFaq: "Check our Frequently Asked Questions (FAQ) page for possible answers.",
                whatNextInfo: "We aim to reply within [X] working days.",
                newQuestionButton: "Ask another question",
                submittingText: "Submitting..."
            },
            ar: {
                pageTitle: "Ø§Ø·Ø±Ø­ Ø³Ø¤Ø§Ù„Ùƒ - Ø¯Ø¹Ù… Ø§Ù„Ù„Ø§Ø¬Ø¦ÙŠÙ†",
                mainTitle: "Ø§Ø·Ø±Ø­ Ø³Ø¤Ø§Ù„Ùƒ",
                subtitle: "Ù†Ø­Ù† Ù…Ø³ØªØ¹Ø¯ÙˆÙ† Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ. ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø£Ø¯Ù†Ø§Ù‡.",
                langSelectLabel: "ğŸŒ Kies uw taal / Select your language / Ø§Ø®ØªØ± Ù„ØºØªÙƒ", 
                langSelectHint: "Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø¨Ù‡Ø§ Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙˆØ§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø±Ø¯.",
                labelName: "ğŸ‘¤ Ø§Ø³Ù…Ùƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
                placeholderName: "Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§",
                labelEmail: "âœ‰ï¸ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ù„Ù„Ø±Ø¯)",
                placeholderEmail: "example@email.com",
                labelPhone: "ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
                placeholderPhone: "+31 6 12345678",
                labelQuestionLang: "ğŸ—£ï¸ Ù„ØºØ© Ø³Ø¤Ø§Ù„Ùƒ",
                labelAnswerLang: "ğŸ’¬ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù„Ù„Ø±Ø¯",
                labelQuestion: "â“ Ø³Ø¤Ø§Ù„Ùƒ",
                placeholderQuestion: "Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§ Ø¨ÙˆØ¶ÙˆØ­ Ù‚Ø¯Ø± Ø§Ù„Ø¥Ù…ÙƒØ§Ù†...",
                privacyInfo: "Ø¨Ø¥Ø±Ø³Ø§Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ ",
                privacyLinkText: "Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©",
                privacyInfoCont: " Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù†Ø§. Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙÙ‚Ø· Ù„Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø³Ø¤Ø§Ù„Ùƒ.",
                submitButtonText: "Ø£Ø±Ø³Ù„ Ø³Ø¤Ø§Ù„ÙŠ",
                footerCopy: `&copy; ${new Date().getFullYear()} Ø¯Ø¹Ù… Ø§Ù„Ù„Ø§Ø¬Ø¦ÙŠÙ† [Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø¸Ù…Ø©]. ÙƒÙ„ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.`,
                footerNote: "Ù‡Ø°Ù‡ ØµÙØ­Ø© Ù…Ø«Ø§Ù„. Ù„Ø§ ØªØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø±Ø³Ø§Ù„Ø§Øª Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ù…Ø§ Ù„Ù… ÙŠØªÙ… ØªÙƒÙˆÙŠÙ† Formspree Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.",
                modalTitle: "Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© (Ù…Ø«Ø§Ù„)",
                modalCloseButton: "Ø¥ØºÙ„Ø§Ù‚",
                alertError: "ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ³Ø¤Ø§Ù„Ùƒ.",
                confirmationTitle: "Ø´ÙƒØ±Ø§ Ù„Ø³Ø¤Ø§Ù„Ùƒ!",
                confirmationMessage: "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø³Ø¤Ø§Ù„Ùƒ Ø¨Ù†Ø¬Ø§Ø­.",
                confirmationDetail: "Ø³ÙˆÙ Ù†ØªØµÙ„ Ø¨Ùƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ† Ø¹Ø¨Ø± Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…Ù‚Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ø£ÙŠØ¶Ø§ Ù…Ù† Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ØºÙŠØ± Ø§Ù„Ù…Ø±ØºÙˆØ¨ ÙÙŠÙ‡Ø§.",
                whatNextTitle: "Ù…Ø§Ø°Ø§ Ø¨Ø¹Ø¯ØŸ",
                whatNextFaq: "Ø±Ø§Ø¬Ø¹ ØµÙØ­Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© (FAQ) Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø¨Ø§Øª Ù…Ø­ØªÙ…Ù„Ø©.",
                whatNextInfo: "Ù†Ù‡Ø¯Ù Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø¯ ÙÙŠ ØºØ¶ÙˆÙ† [X] Ø£ÙŠØ§Ù… Ø¹Ù…Ù„.",
                newQuestionButton: "Ø§Ø·Ø±Ø­ Ø³Ø¤Ø§Ù„Ø§Ù‹ Ø¢Ø®Ø±",
                submittingText: "Ø¬Ø§Ø±Ù Ø§Ù„Ø¥Ø±Ø³Ø§Ù„..."
            },
            ti: { 
                pageTitle: "áˆ•á‰¶áŠ» áˆ•á‰°á‰µ - á‹°áŒˆá áˆµá‹°á‰°áŠ›á‰³á‰µ",
                mainTitle: "áˆ•á‰¶áŠ» áˆ•á‰°á‰µ",
                subtitle: "áŠ­áŠ•áˆ•áŒá‹˜áŠ©áˆ á‹µáˆá‹‹á‰µ áŠ¢áŠ“á¢ áŠá‹š á‰³áˆ•á‰² á‹˜áˆ á‰…áŒ¥á‹’ á‰¥áŠ½á‰¥áˆ¨á‰µáŠ©áˆ áˆáˆáŠ¥á‹á¢",
                langSelectLabel: "ğŸŒ Kies uw taal / Select your language / Ø§Ø®ØªØ± Ù„ØºØªÙƒ",
                langSelectHint: "áŠá‰² á‰…áŒ¥á‹’ áŠ­á‰µáˆ˜áˆáŠ¥áˆ‰áŠ• áˆ˜áˆáˆ² áŠ­á‰µá‰…á‰ áˆ‰áˆ‰áŠ• áŠ¥á‰µá‹°áˆá‹­á‹ á‰‹áŠ•á‰‹ áˆáˆ¨áŒ¹á¢",
                labelName: "ğŸ‘¤ áˆµáˆáŠ©áˆ (á‹˜á‹­áŒá‹µáŠá‰µ)",
                placeholderName: "áŠ£á‰¥á‹š áˆµáˆáŠ©áˆ á‹¨áŠ¥á‰µá‹‰",
                labelEmail: "âœ‰ï¸ áŠ¢áˆœá‹­áˆ áŠ£á‹µáˆ«áˆ»áŠ¹áˆ (áŠ•áˆ˜áˆáˆ²)",
                placeholderEmail: "example@email.com",
                labelPhone: "ğŸ“ á‰áŒ½áˆª á‰°áˆŒááŠ• (á‹˜á‹­áŒá‹µáŠá‰µ)",
                placeholderPhone: "+31 6 12345678",
                labelQuestionLang: "ğŸ—£ï¸ á‰‹áŠ•á‰‹ áˆ•á‰¶áŠ¹áˆ",
                labelAnswerLang: "ğŸ’¬ áŠ•áˆ˜áˆáˆ² áŠ¥á‰µáˆ˜áˆ­áŒ½á‹ á‰‹áŠ•á‰‹",
                labelQuestion: "â“ áˆ•á‰¶áŠ¹áˆ",
                placeholderQuestion: "áˆ•á‰¶áŠ¹áˆ á‰¥áŠ•áŒ¹áˆ­ áŠ£á‰¥á‹š áŒ¸áˆ“á‰...",
                privacyInfo: "áŠá‹š á‰…áŒ¥á‹’ á‰¥áˆá‰•áˆ«á‰¥áŠ©áˆá¡ áŠ• áŠ“á‰µáŠ“ ",
                privacyLinkText: "áˆ˜áˆáˆ­áˆ’ á‰¥áˆ•á‰³á‹ŠáŠá‰µ",
                privacyInfoCont: " á‰µáˆ°áˆ›áˆá‹‘ áŠ£áˆˆáŠ¹áˆá¢ Õ¿Õ¾ÕµÕ¡Õ¬Õ¶Õ¥Ö€Õ¨ Õ¯Ö…Õ£Õ¿Õ¡Õ£Õ¸Ö€Õ®Õ¾Õ¥Õ¶ Õ´Õ«Õ¡ÕµÕ¶ Õ±Õ¥Ö€ Õ°Õ¡Ö€ÖÕ«Õ¶ ÕºÕ¡Õ¿Õ¡Õ½Õ­Õ¡Õ¶Õ¥Õ¬Õ¸Ö‚ Õ°Õ¡Õ´Õ¡Ö€.",
                submitButtonText: "áˆ•á‰¶á‹­ áˆµá‹°á‹µ",
                footerCopy: `&copy; ${new Date().getFullYear()} á‹°áŒˆá áˆµá‹°á‰°áŠ›á‰³á‰µ [áˆ½áˆ áˆ›áˆ•á‰ áˆ­]á¢ áŠ©áˆ‰ áˆ˜áˆ°áˆ‹á‰µ á‹á‰°áˆ“áˆˆá‹ˆ áŠ¥á‹©á¢`,
                footerNote: "áŠ¥á‹šáŠ£ áŒˆáŒ½ áŠ£á‰¥áŠá‰µ áŠ¥á‹«á¢ á‰…áŒ¥á‹’ áˆá‰•áˆ«á‰£á‰µ áŠ£á‹­áˆ°áˆ­áˆ•áŠ• áŠ¥á‹©á¡ Formspree á‰¥á‰µáŠ½áŠ­áˆ áŠ¥áŠ•á‰°á‹˜á‹­á‰°á‹‹á‰áˆ¨á¢",
                modalTitle: "áˆ˜áˆáˆ­áˆ’ á‰¥áˆ•á‰³á‹ŠáŠá‰µ (áŠ£á‰¥áŠá‰µ)",
                modalCloseButton: "á‹•áŒ¾",
                alertError: "á‰ áŒƒáŠ¹áˆ áŠ¢áˆœá‹­áˆ áŠ£á‹µáˆ«áˆ»áŠ¹áˆáŠ• áˆ•á‰¶áŠ¹áˆáŠ• áˆáˆáŠ¡á¢",
                confirmationTitle: "áŠ•áˆ•á‰¶áŠ¹áˆ á‹¨á‰€áŠ•á‹¨áˆáŠ“!",
                confirmationMessage: "áˆ•á‰¶áŠ¹áˆ á‰¥á‹“á‹ˆá‰µ á‰°áˆ‹áŠ¢áŠ¹ áŠ£áˆá¢",
                confirmationDetail: "á‰¥á‹á‰°áŠ»áŠ¥áˆˆáŠ“ áˆ˜áŒ áŠ• á‰€áˆáŒ¢ááŠ“ á‰ á‰² á‹áˆƒá‰¥áŠ©áˆáŠ“ áŠ¢áˆœá‹­áˆ áŠ£á‹µáˆ«áˆ» áŠ­áŠ•áˆ¨áŠ½á‰ áŠ©áˆá¢ á‰ áŒƒáŠ¹áˆá¡ áŠá‰² áŠ“á‹­ áˆµá“áˆ ááˆá‹°áˆ­áŠ©áˆ áŠ¥á‹áŠ• áˆ˜áˆ­áˆáˆ­á‹á¢",
                whatNextTitle: "áŠ¥áŠ•á‰³á‹­ á‰€áŒºáˆ‰?",
                whatNextFaq: "áŠ•á‹áŠ¾áŠ‘ áˆ˜áˆáˆµá‰³á‰µá¡ áŠá‰² áŠ“á‹­ á‰¥á‹™áˆ• áŒŠá‹œ á‹áˆ•á‰°á‰± áˆ•á‰¶á‰³á‰µ (FAQ) áŒˆáŒ½áŠ“ áˆ˜áˆ­áˆáˆ­á‹á¢",
                whatNextInfo: "áŠ£á‰¥ á‹áˆ½áŒ¢ [X] áŠ“á‹­ áˆµáˆ«áˆ• áˆ˜á‹“áˆá‰³á‰µ áŠ­áŠ•áˆáˆáˆ°áˆáŠ©áˆ áŠ•áŒ½á‹•áˆ­ áŠ¢áŠ“á¢",
                newQuestionButton: "áŠ«áˆáŠ¥ áˆ•á‰¶ áˆ•á‰°á‰µ",
                submittingText: "á‹­áˆµá‹°á‹µ áŠ£áˆ..."
            }
        };

        function changeLanguage(lang) {
            if (!translations[lang]) {
                console.warn(`Translations for language "${lang}" not found.`);
                return;
            }
            const t = translations[lang];
            
            document.title = t.pageTitle;
            document.getElementById('main-title').textContent = t.mainTitle;
            document.getElementById('subtitle').textContent = t.subtitle;
            document.getElementById('lang-select-hint').textContent = t.langSelectHint;
            
            document.getElementById('label-name').innerHTML = `<span class="form-icon">ğŸ‘¤</span> ${t.labelName.substring(t.labelName.indexOf(' ') + 1)}`; 
            document.getElementById('name').placeholder = t.placeholderName;
            
            document.getElementById('label-email').innerHTML = `<span class="form-icon">âœ‰ï¸</span> ${t.labelEmail.substring(t.labelEmail.indexOf(' ') + 1)}`;
            document.getElementById('email').placeholder = t.placeholderEmail;

            document.getElementById('label-phone').innerHTML = `<span class="form-icon">ğŸ“</span> ${t.labelPhone.substring(t.labelPhone.indexOf(' ') + 1)}`;
            document.getElementById('phone').placeholder = t.placeholderPhone;

            document.getElementById('label-question-lang').innerHTML = `<span class="form-icon">ğŸ—£ï¸</span> ${t.labelQuestionLang.substring(t.labelQuestionLang.indexOf(' ') + 1)}`;
            document.getElementById('label-answer-lang').innerHTML = `<span class="form-icon">ğŸ’¬</span> ${t.labelAnswerLang.substring(t.labelAnswerLang.indexOf(' ') + 1)}`;
            
            document.getElementById('label-question').innerHTML = `<span class="form-icon">â“</span> ${t.labelQuestion.substring(t.labelQuestion.indexOf(' ') + 1)}`;
            document.getElementById('question').placeholder = t.placeholderQuestion;

            const privacyLink = document.getElementById('privacy-link-text');
            const privacyInfoP = document.getElementById('privacy-info');
            privacyLink.textContent = t.privacyLinkText;
            privacyInfoP.innerHTML = `${t.privacyInfo}<a href="#" id="privacy-link-text" class="text-sky-600 hover:underline" onclick="showPrivacyPolicy(event)">${t.privacyLinkText}</a>${t.privacyInfoCont}`;

            document.getElementById('submit-button-text').textContent = t.submitButtonText;
            
            document.getElementById('footer-copy').innerHTML = t.footerCopy;
            document.getElementById('footer-note').textContent = t.footerNote;

            document.getElementById('modal-title').textContent = t.modalTitle;
            document.getElementById('closePrivacyModal').textContent = t.modalCloseButton;

            document.getElementById('confirmation-title').textContent = t.confirmationTitle;
            document.getElementById('confirmation-message').textContent = t.confirmationMessage;
            document.getElementById('confirmation-detail').textContent = t.confirmationDetail;
            document.getElementById('what-next-title').textContent = t.whatNextTitle;
            const faqLinkText = t.whatNextFaq.includes("FAQ") ? "FAQ" : (t.whatNextFaq.includes("Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©") ? "Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©" : "áˆ•á‰¶á‰³á‰µ"); // Basic detection
            document.getElementById('what-next-faq').innerHTML = `${t.whatNextFaq.substring(0, t.whatNextFaq.indexOf(faqLinkText))}<a href="#" class="text-sky-600 hover:underline" onclick="alert('Link naar FAQ (simulatie)')">${faqLinkText}</a>${t.whatNextFaq.substring(t.whatNextFaq.indexOf(faqLinkText) + faqLinkText.length)}`;
            document.getElementById('what-next-info').textContent = t.whatNextInfo;
            document.getElementById('new-question-button').textContent = t.newQuestionButton;

            document.documentElement.lang = lang;
            document.getElementById('form_page_language').value = lang; // Update hidden field for Formspree

            if (lang === 'ar') {
                document.documentElement.dir = 'rtl';
            } else {
                document.documentElement.dir = 'ltr';
            }
        }

        const langButtons = document.querySelectorAll('.language-button');
        langButtons.forEach(button => {
            button.addEventListener('click', () => {
                langButtons.forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
                const selectedLang = button.getAttribute('data-lang');
                changeLanguage(selectedLang);
            });
        });

        const formSection = document.getElementById('form-section');
        const confirmationSection = document.getElementById('confirmation-section');
        const questionForm = document.getElementById('questionForm');
        const submitButton = document.getElementById('submit-button');
        const submitButtonText = document.getElementById('submit-button-text');
        const submitButtonArrow = document.getElementById('submit-button-arrow');
        const submitSpinner = document.getElementById('submit-spinner');


        questionForm.addEventListener('submit', async function(event) {
            event.preventDefault(); 
            const currentLang = document.documentElement.lang || 'nl'; 
            const t = translations[currentLang];

            const email = document.getElementById('email').value;
            const questionText = document.getElementById('question').value; // Renamed to avoid conflict

            if (!email || !questionText) {
                alert(t.alertError);
                return;
            }

            submitButton.disabled = true;
            submitSpinner.style.display = 'inline-block';
            submitButtonText.textContent = t.submittingText;
            submitButtonArrow.style.display = 'none';
            
            const formData = new FormData(questionForm);
            
            try {
                const response = await fetch(questionForm.action, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    formSection.style.display = 'none';
                    confirmationSection.style.display = 'block';
                    changeLanguage(currentLang); 
                    window.scrollTo(0,0); 
                } else {
                    // Handle server errors or Formspree errors
                    // You might want to parse response.json() if Formspree returns error details
                    alert('Er is een fout opgetreden bij het verzenden van het formulier. Probeer het later opnieuw.');
                }
            } catch (error) {
                // Handle network errors
                console.error('Form submission error:', error);
                alert('Er is een netwerkfout opgetreden. Controleer uw internetverbinding en probeer het opnieuw.');
            } finally {
                submitButton.disabled = false;
                submitSpinner.style.display = 'none';
                submitButtonText.textContent = t.submitButtonText; // Reset button text
                submitButtonArrow.style.display = 'inline-block';
            }
        });

        document.getElementById('new-question-button').addEventListener('click', function() {
            confirmationSection.style.display = 'none';
            formSection.style.display = 'block';
            questionForm.reset();
            const currentLang = document.documentElement.lang || 'nl';
            changeLanguage(currentLang); 
            window.scrollTo(0,0);
        });


        const privacyModal = document.getElementById('privacyModal');
        function showPrivacyPolicy(event) {
            event.preventDefault();
            privacyModal.style.display = 'flex';
        }
        document.getElementById('closePrivacyModal').addEventListener('click', function() {
            privacyModal.style.display = 'none';
        });
        window.addEventListener('click', function(event) {
            if (event.target === privacyModal) {
                privacyModal.style.display = 'none';
            }
        });

        changeLanguage('nl');

    </script>

</body>
</html>
